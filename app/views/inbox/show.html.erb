<div class="inbox">
  <div class="inbox__card">

    <%= turbo_stream_from [Current.user, :saved_items] %>

    <%= form_with url: saved_items_path,
      scope: :saved_item,
      class: "inbox__form",
      data: { controller: "clear-url-field" } do |form| %>

      <%= form.url_field :url,
        required: true,
        autofocus: true,
        placeholder: "https://example.com/article",
        class: "inbox__input",
        autocomplete: "off",
        autocapitalize: "none",
        spellcheck: false,
        data: { "clear-url-field-target": "input" } %>

      <%= form.submit "Add link", class: "inbox__button" %>
    <% end %>

    <% if @saved_items.present? %>
      <ul class="inbox__list" aria-label="Saved items">
        <%= render partial: "saved_items/saved_item",
                   collection: @saved_items,
                   as: :item %>
      </ul>
    <% else %>
      <p class="inbox__empty">No saved items yet.</p>
    <% end %>

  </div>
</div>
