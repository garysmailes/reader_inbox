<% if flash[:notice].present? %>
  <% status = flash[:saved_item_status].to_s %>
  <% variant = (status == "already_saved") ? "alert" : "notice" %>
  <% title   = (status == "already_saved") ? "Warning" : "Success" %>

  <div class="ri-toast-stack" aria-live="polite" aria-atomic="true">
    <div
      class="ri-toast ri-toast--<%= variant %>"
      data-controller="toast"
      data-toast-timeout-value="3000"
    >
      <div class="ri-toast__icon" aria-hidden="true">
        <% if variant == "notice" %>
          <!-- Bootstrap Icons: check-circle -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.97 11.03a.75.75 0 0 0 1.08.02l3.992-4.99a.75.75 0 1 0-1.17-.94L7.49 9.35 5.383 7.257a.75.75 0 0 0-1.06 1.06l2.646 2.713z"/>
          </svg>
        <% else %>
          <!-- Bootstrap Icons: exclamation-triangle -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path d="M7.938 2.016a.13.13 0 0 1 .125 0l6.857 11.667c.025.042.025.094 0 .136a.13.13 0 0 1-.125.068H1.206a.13.13 0 0 1-.125-.068.146.146 0 0 1 0-.136L7.938 2.016zM8 5.5a.5.5 0 0 0-.5.5v3.5a.5.5 0 0 0 1 0V6a.5.5 0 0 0-.5-.5zm0 6.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"/>
          </svg>
        <% end %>
      </div>

      <div class="ri-toast__body">
        <div class="ri-toast__title"><%= title %></div>
        <div class="ri-toast__message"><%= flash[:notice] %></div>
      </div>

      <button type="button" class="ri-toast__close" aria-label="Dismiss" data-action="toast#dismiss">
        <!-- Bootstrap Icons: x -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
          <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
        </svg>
      </button>
    </div>
  </div>
<% end %>
